<div class="toggle__container">
    <mat-button-toggle-group #toggleGroup
                             #group="matButtonToggleGroup"
                             (change)="onValChange(group.value)"
                             name="SelectedStyle"
                             aria-label="Style Selected"
                             [(ngModel)]="value"
                             >
        <mat-button-toggle value="form">Form</mat-button-toggle>
        <mat-button-toggle [disabled]="dragDrop.elementDisablingChange | async" value="element">Element</mat-button-toggle>
      </mat-button-toggle-group>
</div>
<div class="editor__container">
    <ng-template [cdkPortalOutlet]="activePortal | async"></ng-template>
</div>
<ng-template #formPortal>
    <form [formGroup]="dragDrop.formStyle"
          connectForm="form"
          class="form__editor">
        <mat-form-field appearance="fill">
            <mat-label>Title</mat-label>
            <input matInput type="text" formControlName="title" >
        </mat-form-field>
        <mat-button-toggle-group value="left" formControlName="align" #group = "matButtonToggleGroup">  
            <mat-button-toggle value = "left">  
                <mat-icon>format_align_left</mat-icon>  
            </mat-button-toggle>  
            <mat-button-toggle value = "center">  
                <mat-icon>format_align_center</mat-icon>  
            </mat-button-toggle>  
            <mat-button-toggle value = "right">  
                <mat-icon>format_align_right</mat-icon>  
            </mat-button-toggle>  
        </mat-button-toggle-group>
        <mat-form-field appearance="fill">
            <mat-label>Font size</mat-label>
            <input matInput type="number" formControlName="fontSize" >
        </mat-form-field>  
        <mat-form-field appearance="fill">
            <mat-label>Font color</mat-label>
            <input matInput type="color" formControlName="fontColor" >
        </mat-form-field>  
        <div>
            <p>Width:</p>
            <mat-button-toggle-group name="width"
                                    #width="matButtonToggleGroup"
                                    (change)="onTypeChange(width.name, width.value)"
                                    value="custom"
                                    aria-label="Width Type">
                <mat-button-toggle value="auto">Auto</mat-button-toggle>
                <mat-button-toggle value="custom">Custom</mat-button-toggle>
            </mat-button-toggle-group>      
            <mat-slider
                *ngIf="width.value == 'custom'"
                [valueText]="width.value == 'auto' ? 'auto' : ''"
                class="w-100"    
                formControlName="width"
                thumbLabel
                tickInterval="auto"
                step="1"
                min="0"
                [max]="innerWidth"
                aria-label="units"></mat-slider>
        </div>
        <div>
            <p>Height:</p>
            <mat-button-toggle-group 
                                    name="height"
                                    #height="matButtonToggleGroup"
                                    (change)="onTypeChange(height.name, height.value)"
                                    value="custom"
                                    aria-label="Height Type">
                <mat-button-toggle value="auto">Auto</mat-button-toggle>
                <mat-button-toggle value="custom">Custom</mat-button-toggle>
            </mat-button-toggle-group>              
            <mat-slider
                *ngIf="height.value == 'custom'"
                [valueText]="height.value == 'auto' ? 'auto' : ''"
                class="w-100"    
                formControlName="height"
                thumbLabel
                tickInterval="auto"
                step="1"
                min="100"
                [max]="innerHeight"
                aria-label="units"></mat-slider>
        </div>
        <div class="button__container">
            <button mat-raised-button color="warn" (click)="handleClear()">Clear Form</button>
            <button mat-raised-button color="primary" (click)="handleDownload()">Download Form</button>
        </div>
        
    </form>
</ng-template>
<ng-template #elementPortal>
    <form [formGroup]="dragDrop.elementStyle"
            class="form__editor"
            connectForm="element">
        <mat-form-field appearance="fill">
            <mat-label>Placeholder</mat-label>
            <input matInput formControlName="placeholder" type="text">
        </mat-form-field>
        <mat-button-toggle-group value="left" formControlName="align" #group = "matButtonToggleGroup">  
            <mat-button-toggle value = "left">  
                <mat-icon>format_align_left</mat-icon>  
            </mat-button-toggle>  
            <mat-button-toggle value = "center">  
                <mat-icon>format_align_center</mat-icon>  
            </mat-button-toggle>  
            <mat-button-toggle value = "right">  
                <mat-icon>format_align_right</mat-icon>  
            </mat-button-toggle>  
        </mat-button-toggle-group>
        <mat-form-field appearance="fill">
            <mat-label>Font size</mat-label>
            <input matInput type="number" formControlName="fontSize" >
        </mat-form-field>  
        <mat-form-field appearance="fill">
            <mat-label>Font color</mat-label>
            <input matInput type="color" formControlName="fontColor" >
        </mat-form-field>  
        <mat-form-field appearance="fill">
            <mat-label>Font weight</mat-label>
            <input matInput type="number" formControlName="fontWeight" >
        </mat-form-field> 
        <mat-checkbox formControlName="required" class="example-margin">Required:</mat-checkbox>
        <div>
            <p>Container Width:</p>           
            <mat-slider
                class="w-100"    
                formControlName="containerWidth"
                thumbLabel
                tickInterval="auto"
                step="1"
                min="0"
                max="100"
                aria-label="units"></mat-slider>
        </div>
        <div>
            <p>Element Width:</p>           
            <mat-slider
                class="w-100"    
                formControlName="width"
                thumbLabel
                tickInterval="auto"
                step="1"
                min="0"
                max="100"
                aria-label="units"></mat-slider>
        </div>
        <div>
            <p>Height:</p>           
            <mat-slider
                class="w-100"height
                formControlName="height"
                thumbLabel
                tickInterval="auto"
                step="1"
                min="0"
                max="100"
                aria-label="units"></mat-slider>
        </div>
    </form>
    <div (click)="handleSelect($event)" class="edit-block"> 
        <img 
            class="confirm"
            src="assets/img/right-correct.svg"/>
        <img
            class="delete"
            src="assets/img/close-red.svg"/>
    </div>
</ng-template>